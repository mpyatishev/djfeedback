define("toggler",["jquery"],function(a){"use strict";var b,c="_state_opened";return b=function(a){if(!a)throw new Error("Missing options");this._name=a.name,this._bToggler=null,this._bPanel=null,this._initialize()},b.prototype={_initialize:function(){console.info("Toggler init"),this._bToggler=a(".b-toggler__toggler._name_"+this._name),this._bPanel=a(".b-toggler__panel._name_"+this._name),this._bindControls()},_bindControls:function(){this._bToggler.on("click",function(){this.toggle()}.bind(this))},_open:function(){this._bToggler.addClass(c),this._bPanel.addClass(c)},_close:function(){this._bToggler.removeClass(c),this._bPanel.removeClass(c)},toggle:function(){this._bToggler.hasClass(c)?this._close():this._open()},open:function(){this._open()},close:function(){this._close()}},b}),require(["jquery","jqueryCookie","jqueryValidate","toggler"],function(a,b,c,d){var e=function(a){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(a)},f=function(b){b=a(b),b.addClass("_state_ajax-waiting"),b.find("[type='submit']").attr("disabled","disabled")},g=function(b){b=a(b),b.removeClass("_state_ajax-waiting"),b.find("[type='submit']").removeAttr("disabled")},h=function(){var b=new d({name:"dj-feedback"}),c=a(".b-dj-feedback__form");c.validate({errorClass:"help-block",errorElement:"span",highlight:function(b){a(b).closest(".form-group").addClass("has-error")},unhighlight:function(b){a(b).closest(".form-group").removeClass("has-error")},submitHandler:function(c){a.ajax({url:c.action,type:"POST",data:new FormData(c),processData:!1,contentType:!1,beforeSend:function(b,d){e(d.type)||b.setRequestHeader("X-CSRFToken",a.cookie("csrftoken")),f(c)},success:function(a){console.log(a),g(c),b.close()},error:function(a,b,d){console.log(d),g(c)}})}})};return new h});